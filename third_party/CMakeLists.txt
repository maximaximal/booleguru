add_subdirectory(ankerl)
add_subdirectory(antlr)

find_package(LuaJIT)
if(LUAJIT_FOUND)
    add_library(lua STATIC IMPORTED GLOBAL)
    add_library(lua-header INTERFACE)
    set_property(TARGET lua PROPERTY IMPORTED_LOCATION ${LUA_LIBRARY})
    set_property(TARGET lua-header PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${LUA_INCLUDE_DIR})
    target_link_libraries(lua-header INTERFACE lua)
else()
    message(STATUS "Using source-distributed Lua version instead of system. Try to install libluajit-dev.")
    add_subdirectory(lua)
endif()

add_subdirectory(sol)
